

<!--
    *
    * MENU PRICIPAL COMANTADO
    *
-->
<!-- <div ng-include="'view/partes/head2.html'"></div>-->


<!-- Main content -->
   
    <div class="col-md-12 Wbox-Main"  >
        <div class="Wbox bordRadi3" > 
         
        <div class="Wbox-title bgC" > 
           <strong> Agenda do Dia </strong>
         </div>

         <div class="Wbox-itens " > 
            <a > <i class="icon-action-undo"></i> Voltar </a>
            <a ng-click="ipthi()" > <i class="fa fa-file-pdf-o"></i> Imprimir </a>
            <a > <i class="fa fa-calendar" aria-hidden="true"> </i> Compromisso do Prestador </a>
         </div>

         <div class="Wbox-itens_2" >
            <div class="col-sm-12">

                <div class="col-sm-2">
                    <div class="form-group">
                        <label for="name">Data </label>
                        <input type="text" class="form-control" id="data_c" style="max-width: 65%;"  ng-model="ag.data_c">
                    </div>
                </div>

                <div class="col-sm-3">
                    <div class="form-group">
                        <label for="name">Tipo Tratamento:</label>
                        <select id="select" name="select" class="form-control input-lg" size="1">
                            <option class=""  value="0">Todas</option>
                            <option ng-repeat="La in ListTratamento"  ng-value="La.chave"  >{{La.nm_tipo_tratamento}}</option>
                        </select>
                    </div>
                </div>

                <div class="col-sm-2">
                    <div class="form-group">
                        <label for="name">Unidade:</label>
                        <select id="select" name="select" class="form-control input-lg" size="1" ng-model="ag.unidade" ng-change="getSelectMedicos()">
                             <option ng-repeat="Lb in ListUnidade"  ng-value="Lb.chave"  >{{Lb.nm_unidade_atendimento}}</option>
                        </select>
                    </div>
                </div>

                <div class="col-sm-2">
                    <div class="form-group">
                        <label for="name">Prestador:</label>
                        <select id="select" name="select" class="form-control input-lg" size="1" ng-model="ag.medico" ng-change="getSelcCadeiras()">
                            <option ng-repeat="Lc in ListMedico"  ng-value="Lc.chave"  >{{Lc.nm_prestador}}</option>
                        </select>
                    </div>
                </div>

                  <div class="col-sm-1">
                    <div class="form-group">
                        <label for="name">Cadeira:</label>
                        <select id="select" name="select" class="form-control input-lg" size="1" ng-model="ag.cadeira" ng-change="getAgendaDia()" >
                            <option ng-repeat="Ld in ListCadeiras"  ng-value="Ld.cadeira" ng-mousedown="getAgendaDia()" >{{Ld.cadeira}}</option>
                        </select>
                    </div>
                </div>
                
           
            </div>

         </div>
         <div class=" Wbox-main" >
            <div class="col-md-8 Wbox-Caledar-List">
                 <table class="table table-bordered table-striped table-condensed tabela-agenda">
                        <!-- <thead>  <tr>  <th>Hora</th> <th>Agenda</th> </tr>  </thead> -->
                        <tbody>
                            <tr  ng-repeat="LAG in ListAgendaDaddos"  >
                                <td style="width: 13%" class="lb-font-a" >{{LAG.hora}}</td>
                                    <td ng-class="LAG.addcss"   >
                                        <div class="col-md-7 agendaInfoPact " ng-click="ShowAtendimento(LAG)">

                                            <!-- INFORMAÇÔES DO PACIENTE -->
                                            <div  ng-if="LAG.dados.length > 1" class="h7 ag-nome m-a-0 "><label ng-class="LAG.addcss_daados"   >{{LAG.dados}}</label></div>
                                            <div  ng-if="LAG.tel.length > 5"  class="h7 m-a-0 lb-shad-a"><small> {{LAG.tel}}</small></div>
                                            <div  ng-if="LAG.observac.length > 5"  class="h7 m-a-0 lb-shad-a"><small> {{LAG.observac}}</small></div>
                                            <div  ng-if="LAG.espcialidd.length > 1"  class="h7 m-a-0 lb-shad-a"><small> {{LAG.espcialidd}}</small></div>
                                            
                                        </div>
                                        <div class="col-md-5 agendaInfoPact-Butons">
                                            <div class="agenda-action-icons ico-shaw">
                                                <div class="col-md-8">

                                                    <!-- BT PACIENTE CHEGOU -->
                                                    <i ng-if="LAG.BT_chegou" class="icon-home icons " title="Paciente Chegou"></i>
                                                    
                                                    <!-- BT PACIENTE FALTOU -->
                                                    <span ng-if="LAG.BT_faltou" class="fa-stack agd-ico-ft2" title="Paciente faltou">
                                                        <i class="fa fa-user-o fa-stack-1x"></i>
                                                        <i class="fa fa-ban fa-stack-2x text-danger"></i>
                                                    </span>

                                                    <!-- BT CANCELAR CONSULTA  -->
                                                    <i ng-if="LAG.BT_cacelarConslt" class="fa fa-times agd-ico-ft" title="Cancelar Atendimento" ng-click="CancelAtendimento(LAG)"  aria-hidden="true"></i>

                                                </div>
                                                <div class="col-md-4 ag-ico-2" >
                                                    <i ng-if="LAG.BT_cartaoFinanceiro" class="fa fa-money" title="Ver/Pagamento Paciente" aria-hidden="true"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                            </tr>

                        </tbody>
                    </table>



            </div>

             <div class="col-md-4 Wbox-main-rigth">
                    <div class="card">
                        <div class="card-header bgC CF ">
                            <strong>Calendário</strong>
                        </div>

                        <div class="card-block pd0">
                            <div class="Agendacaledario"> 
                                <div class="AgendacaledarioDp">
                                    <div  id="datepicker"  ></div>
                                </div>
                                <div class="Agendacaledariobnt " >
                                    <div class="form-group agenda-bt-1">
                                                <label for="name">Informe a data:</label>
                                                <input type="text" class="form-control" id="data_b" placeholder="Data" ng-model="ag.data_b" >
                                                <button type="button" class="btn btn-success agenda-bt-2">Carregar</button>
                                            </div>    

                                </div>
                                <input type="hidden" id="my_hidden_input" ng-model="ag.data_a">
                            </div>
                            
                        </div>
                        <div class="card-header bgC CF">
                            <strong>Legenda</strong>
                            
                        </div>
                        <div class="card-block pd0">
                            <div class="agenda-legenda">
                                <label> <span class="agendaColor-1 agendaInfoL" >Aa</span> Ficha rápida</label> <br>
                                <label> <span class="agendaColor-2 agendaInfoL" >Aa</span> Paciente compareceu a clínica</label> <br>
                                <label> <span class="agendaColor-3 agendaInfoL" >Aa</span> Fez pagamento hoje</label><br>
                                <label> <span class="agendaColor-4 agendaInfoL" >Aa</span> Já atendido em outra data neste mês</label><br>
                                <label> <span class="agendaColor-5 agendaInfoL" >Aa</span> Paciente faltou</label> <br>
                                <label> <span class="agendaColor-6 agendaInfoL" >Aa</span>	Atendido sem procedimento com observação</label><br>
                                <label> <span class="agendaColor-7 agendaInfoL" >Aa</span>	Atendido com procedimento</label><br>
                                <label> <span class="agendaColor-8 agendaInfoL" >Aa</span>	Compromisso Prestador</label><br>
                                
                                
                            </div>
                        </div>

                    </div>

                
            </div>
         </div>

        </div>
    </div>
   

<!-- **************************************************
                    MODALS  
********************************************************-->

<!-- Modal CANCELAR CONSULTA -->
<div class="modal fade" id="MDCacelConsult" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header bgC CF">
        <h5 class="modal-title" id="exampleModalLabel">Visualização do Agendamento</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h5>Paciente: {{MD.nomePaciet}}</h5>
        <div class="col-md-12">
            Quen Cancelou: 
        </div>
        <div class="col-md-12 FTZ-16">
            <label class="radio-inline" for="inline-radio1">
                <input type="radio" id="inline-radio1" name="inline-radios" ng-model="MD.quem_cancelou" value="C"> Clinica
            </label>
            <label class="radio-inline" for="inline-radio2">
                <input type="radio" id="inline-radio2" name="inline-radios" ng-model="MD.quem_cancelou" value="F"> Prestador
            </label>
            <label class="radio-inline" for="inline-radio3">
                <input type="radio" id="inline-radio3" name="inline-radios" ng-model="MD.quem_cancelou" value="A"> Paciente
            </label>
            <label class="radio-inline" for="inline-radio3">
                <input type="radio" id="inline-radio3" name="inline-radios" ng-model="MD.quem_cancelou" value="E"> Erro Cadastro
            </label>
        </div>
      </div>
      <div class="modal-footer">
        <!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Fecha</button> -->
        <button type="button" class="btn btn-outline-primary"  ng-disabled="MD.quem_cancelou == null" ng-click="ConfirmaCancelAtendimento()" >Confirmar Cancelamento</button>
      </div>
    </div>
  </div>
</div>              





<!-- Modal Exibe Dados Consulta -->
<div class="modal fade" id="MDDadosConsult" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel1" aria-hidden="true">
  <div class="modal-dialog md-Full" role="document">
    <div class="modal-content">
      <div class="modal-header bgC CF">
        <h5 class="modal-title" id="exampleModalLabel1">Cancelameto de Agendamento</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
       
       
        <div class="Wbox-itens_2" >
            <div class="col-sm-12">
                <div class="col-st-data">
                    <div class="form-group">
                        <label for="name">Data </label>
                        <input type="text" class="form-control"  ng-model="MD.data_agenda"   >
                    </div>
                </div>
                <div class="col-st-data">
                    <div class="form-group">
                        <label for="name">Hora:</label>
                        <input type="text" class="form-control" ng-model="MD.hora_agenda" >
                    </div>
                </div>
                <div class="col-sm-1">
                    <div class="form-group">
                        <label for="name">Duração:</label>
                        <input type="text" class="form-control" ng-model="MD.duracao_agenda"  >
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group">
                        <label for="name">Motivo do Agendamento:</label>
                        <input type="text" class="form-control" ng-model="MD.nome_motivo_atendimento"   >
                    </div>
                </div>
            </div>

            <div class="col-sm-12">
                <div class="col-sm-12">
                    <div class="form-group">
                        <label for="name">Observações:</label>
                        <input type="text" class="form-control"   >
                    </div>
                </div>
            </div>


            <div class="col-sm-12">
                <div class="col-sm-4">
                    <div class="form-group">
                        <label for="name">Prestador:</label>
                        <input type="text" class="form-control"  ng-model="MD.nome_medico"  >
                    </div>
                </div>

                 <div class="col-sm-4">
                    <div class="form-group">
                        <label for="name">Unidade:</label>
                        <input type="text" class="form-control" ng-model="MD.nome_unidade"  >
                    </div>
                </div>

                 <div class="col-sm-4">
                    <div class="form-group">
                        <label for="name">Cadastrado por:</label>
                        <input type="text" class="form-control"  ng-model="MD.nome_funcionario_cadastro"   >
                    </div>
                </div>
            </div>


            <div class="col-sm-12">
                <div class="col-sm-6">
                    <div class="form-group">
                        <label for="name">Telefone:</label>
                        <input type="text" class="form-control"  ng-model="MD.num_telefone1"  >
                    </div>
                </div>

                 <div class="col-sm-6">
                    <div class="form-group">
                        <label for="name">Tipo Tratamento:</label>
                        <input type="text" class="form-control" ng-model="MD.nome_tipo_tratamento"    >
                    </div>
                </div>
            </div>


            <div class="col-sm-12">
                <div class="col-sm-7">
                    <div class="form-group">
                        <label for="name">Paciente:</label>
                        <input type="text" class="form-control"  ng-model="MD.nome" >
                    </div>
                </div>

                 <div class="col-sm-5">
                    <div class="form-group">
                        <label for="name">Prontuário:</label>
                        <input type="text" class="form-control" ng-model="MD.prontuario" >
                    </div>
                </div>
            </div>


        <div class="col-sm-12">
            <div class="alert alert-info" role="alert">
            <strong>Atenção!</strong> Selecione abaixo o que deseja fazer...
            </div>
        </div>

         </div>



      </div>
      <div class="modal-footer ">
          <div class="col-md-12" >
            <button type="button" class="btn btn-info" data-dismiss="modal">Odontograma</button>
            <button type="button" class="btn btn-success" data-dismiss="modal">Chegou</button>
            <button type="button" class="btn btn-info" data-dismiss="modal">Editar</button>
            <button type="button" class="btn btn-warning bt-color-a" data-dismiss="modal"><i class="icon-user"></i> Faltou</button>
            <button type="button" class="btn btn-warning bt-color-a">Cancelar</button>
          </div>
      </div>
    </div>
  </div>
</div>              






<!-- Modal CADASTRA NOVA CONSULTA -->
<div class="modal fade" id="MDNovaConsult" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel2" aria-hidden="true">
  <div class="modal-dialog md-Full" role="document">
    <div class="modal-content">
      <div class="modal-header bgC CF">
        <h5 class="modal-title" id="exampleModalLabel2">Agendar paciente em {{MD.dia_select}} as  {{MD.hora_select}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body MDCadConsultCorp">


        <div class="Wbox-itens_2" >
            <div class="col-sm-12">
                <div class="col-st-data">
                    <div class="form-group">
                        <label for="name">Data </label>
                        <input type="text" class="form-control"  ng-model="MD.dia_select"   >
                    </div>
                </div>
                <div class="col-st-data">
                    <div class="form-group">
                        <label for="name">Horário:</label>
                        <input type="text" class="form-control" ng-model="MD.hora_select" >
                    </div>
                </div>
                <div class="col-sm-1">
                    <div class="form-group">
                        <label for="name">Duração:</label>
                        <select id="select" name="select" class="form-control input-lg" size="1" ng-model="MD.duracao"  >
                            <option ng-repeat="lr in stepConsultas" ng-value="lr.valor" >{{lr.valor}}</option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-2">
                    <div class="form-group">
                        <label for="name">Motivo do Agendamento:</label>
                        <select id="select" name="select" class="form-control input-lg" size="1" ng-model="MD.nm_motivo_atendimento"  >
                            <option ng-repeat="ls in ListMotivoAtendimento" ng-value="ls.chave" >{{ls.nm_motivo_atendimento}}</option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-2">
                    <div class="form-group">
                        <label for="name">Tratamento do Atendimento:</label>
                        <select id="select" name="select" class="form-control input-lg" size="1" ng-model="MD.tratamento"  >
                            <option ng-repeat="lt in ListMedicoTratamentos" ng-value="lt.cd_especialidade" >{{lt.nm_tipo_tratamento}}</option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group">
                        <label for="name">Observações:</label>
                        <input type="text" class="form-control" ng-model="MD.nome_motivo_atendimento"   >
                    </div>
                </div>
            </div>

            <div class="col-sm-12">
                <div class="col-sm-12">
                    <div class="form-group">
                        <label for="name">Informe NOME, CPF, TELEFONE ou MATRÍCULA/CARTÃO do paciente:</label>
                        <input type="text" class="form-control" ng-model="MD.BuscarString"  ng-enter="getListPacienteForString()"  >
                    </div>
                </div>
            </div>
        </div>

         <div class="col-sm-12">
            <div class="card-block " style="padding-bottom: 0px;" >
                    <table class="table table-bordered table-striped table-condensed"  style="margin-bottom: 0px;">
                        <thead>
                            <tr ng-if="MD.TabelaTopTXT == true"  class="bgC CF">
                                <th width="33%" >PACIENTE/CPF</th>
                                <th width="20%" >CARTÃO/MATRIC.</th>
                                <th width="18%" >TELEFONE</th>
                                <th width="4%"  >TP</th>
                                <th width="25%" >FILIAL</th>
                            </tr>
                        </thead>
                    </table>
            </div>       
            <div class="card-block MDCardConsultSubTabela" style="padding-top: 0px; ">
                    <table class="table  table-striped table-condensed MDCardConsultTabela "   > <!-- table-bordered BORDA DA TABEla -->
                        <tbody>
                            <!--<tr>
                                <td  width="34%" >Dayvson Vicente Menezes de Assis </td>
                                <td  width="20%" >R234523423452334234 </td>
                                <td  width="18%" > (31) 9 8540-4616  </td>
                                <td  width="4%"  >P</td>
                                <td  width="24%"  > Clinica são Lucas - Divinopoles </td>
                            </tr> -->

                             <tr ng-repeat="lu in ListBuscaPacientClinica" ng-click="GridAddConsulta(lu)" >
                                <td  width="34%" > {{lu.nome}}</td> <!-- cpf -->
                                <td  width="20%" > {{lu.numero}} </td>
                                <td  width="18%" > {{lu.num_telefone1}} </td>
                                <td  width="4%"  > {{lu.tipo}} </td>
                                <td  width="24%" > {{lu.nm_unidade_atendimento}} </td>
                            </tr>
                        </tbody>
                    </table>
            </div>       
        </div>



      </div>
      <!--<div class="modal-footer">
         <button type="button" class="btn btn-secondary" data-dismiss="modal">Fecha</button> 
        <button type="button" class="btn btn-outline-primary"  ng-disabled="MD.quem_cancelou == null" ng-click="ConfirmaCancelAtendimento()" >Confirmar Cancelamento</button>
      </div>-->
    </div>
  </div>
</div>              

